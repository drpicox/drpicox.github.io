{"version":3,"sources":["webpack:///./wiki/RaftImplementation.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---wiki-raft-implementation-mdx-de637719e28808c97bb7.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Volumes/Projects/drpicox/gatsby-home/src/layouts/WikiLayout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`RAFT is a consensus algorithm implementation\nthat synchonizes the state\nwith full consistency between\nmultiple servers with fault tolerance.`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`website`}</strong>{`: `}<a parentName=\"li\" {...{\n          \"href\": \"https://raft.github.io/raft.pdf\",\n          \"target\": \"_blank\",\n          \"rel\": \"nofollow noopener noreferrer\"\n        }}>{`https://raft.github.io/raft.pdf`}</a></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`source`}</strong>{`: `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/drpicox/uoc-raft-2013p\",\n          \"target\": \"_blank\",\n          \"rel\": \"nofollow noopener noreferrer\"\n        }}>{`https://github.com/drpicox/uoc-raft-2013p`}</a></li>\n    </ul>\n    <p>{`In 2013 I teach the distributed systems laboratory of the\nUOC (Open University of Catalonia).`}</p>\n    <p>{`That year the assignation to the students was the implementation of the RAFT\nConsensus Algorithm and validation.`}</p>\n    <p>{`This project contains the reference implementation used to compare against\nstudents results and give back as solution.`}</p>\n    <p>{`To make thins easier for students (it is a 3 months assignment),\nsome hints about the implementation were given (to simplify it):`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Make timeouts always on: although it is not as efficient as fire timeouts only when needed, it helps to make code more stable and avoid some frequent race condition.`}</li>\n    </ul>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"java\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-java\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-java\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`private`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`TimerTask`}</span>{` electionTimeoutTask `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`TimerTask`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token annotation punctuation\"\n          }}>{`@Override`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`public`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`void`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`run`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`electionTimeout`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code></pre></div>\n    <ul>\n      <li parentName=\"ul\">{`Copy current thread required state inside a guard zone: java programmers usually makes the whole method synchronized when they are trying to avoid problems in concurrent data structure concurrent accesses. This strategy is not always valid. Synchronized methods are in fact monitors and programmers only know about mutexes and semaphores, which causes some times unexpected results (for the programmer). In addition it also creates large zones of mutual exclusion, which reduces the performance. I suggested to the students to do the following schema: open a guard, copy the required state, close the guard, perform the operation with the required state, and, if results have to been saved, open again the guard, check everything, and store results. This schema is very beneficial when results are returned asynchronously, because everything still works and is more clear.`}</li>\n    </ul>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"java\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-java\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-java\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`final`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`long`}</span>{` term`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`final`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`String`}</span>{` candidateId `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` localHost`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getId`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`final`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`int`}</span>{` lastLogIndex`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`final`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`long`}</span>{` lastLogTerm`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`synchronized`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`GUARD`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Leaders are free of election timeouts`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`state `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RaftState`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`LEADER`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` \n    \n    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// So here only FOLLOWER and CANDIDATE`}</span>{`\n    term `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getCurrentTerm`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`+`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`1`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    lastLogIndex `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getLastLogIndex`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    lastLogTerm `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getLastLogTerm`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// And I'm now officially a CANDIDATE`}</span>{`\n    persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`setCurrentTerm`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`term`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`setVotedFor`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`candidateId`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    state `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RaftState`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`CANDIDATE`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code></pre></div>\n    <ul>\n      <li parentName=\"ul\">{`Use an executor queue and anonymous classes to deal with asynchronous results: I have to admit that I copied this idea from Javascript philosophy, but it worked incredible well. All previous implementation using reception handlers for each result were really messy, difficult to debug, and full of bugs and unexpected race conditions. Copying the Javascript philosophy I got a very easy way to implement and understand asynchronous operations:`}</li>\n    </ul>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"java\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-java\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-java\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// request votes`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`for`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`final`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Host`}</span>{` otherHost `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` otherServers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    executorQueue`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`execute`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Runnable`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token annotation punctuation\"\n          }}>{`@Override`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`public`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`void`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`run`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RequestVoteResponse`}</span>{` response `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RMIsd`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getInstance`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`requestVote`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`otherHost`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` term`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` candidateId`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` lastLogIndex`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` lastLogTerm`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// not now or not me`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`response`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getTerm`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!=`}</span>{` term `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`||`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!`}</span>{`response`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`isVoteGranted`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n                `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`checkReceivedTerm`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`term`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\t\t\t\t\t\t\t\n                `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// who wons?`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`int`}</span>{` votes `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` voteCount`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`incrementAndGet`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{` \n            `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`votes `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span>{` minimumVoteCount`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n                `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// I'm a winer??? (with less votes not yet, with more I'm already a leader)`}</span>{`\n                `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`synchronized`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`GUARD`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getCurrentTerm`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!=`}</span>{` term `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`||`}</span>{` state `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RaftState`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`CANDIDATE`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n                        `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Ops! Something changed while network RPC go and come`}</span>{`\n                        `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// I'm the leader`}</span>{`\n                    state `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RaftState`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`LEADER`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n                    \n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Reset nextIndex and matchIndex`}</span>{`\n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`int`}</span>{` nextIndex `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` persistentState`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getLastLogIndex`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`+`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`1`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`for`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Host`}</span>{` otherHost `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` otherServers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n                        nextIndexes`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`put`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`otherHost`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` nextIndex`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n                        matchIndexes`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`put`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`otherHost`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`0`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n                    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n                `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// else greater values ignored to avoid become leader to often`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code></pre></div>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}