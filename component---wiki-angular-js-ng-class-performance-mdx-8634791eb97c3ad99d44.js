(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{OWh4:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return b})),t.d(a,"default",(function(){return m}));var c=t("wx14"),n=t("zLVn"),o=(t("q1tI"),t("7ljp")),s=t("WHYo"),b=(t("qKvR"),{}),p={_frontmatter:b},r=s.a;function m(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(o.b)(r,Object(c.a)({},p,t,{components:a,mdxType:"MDXLayout"}),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"source"),": ",Object(o.b)("a",Object(c.a)({parentName:"li"},{href:"https://github.com/angular/angular.js/pull/14404",target:"_blank",rel:"nofollow noopener noreferrer"}),"https://github.com/angular/angular.js/pull/14404"))),Object(o.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(o.b)("pre",Object(c.a)({parentName:"div"},{className:"language-javascript"}),Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-javascript"}),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"it"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),"'should not copy verylargeobject'"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"inject"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"function"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token parameter"}),"$rootScope",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),",")," $compile"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"var")," getProp ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"=")," jasmine",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"createSpy"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),"'getProp'"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"var")," verylargeobject ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n  Object",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"defineProperty"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),"verylargeobject",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),"'prop'"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    get",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),":")," getProp",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    enumerable",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n  element ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"$compile"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),"'<div ng-class=\"{foo: verylargeobject}\"></div>'"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),"$rootScope",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n  $rootScope",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"."),"verylargeobject ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"=")," verylargeobject",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n  $rootScope",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"$digest"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"expect"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),"getProp",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"."),"not",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token function"}),"toHaveBeenCalled"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),";")))),Object(o.b)("p",null,"Although this PR was not accepted as it,\n@gkalpak (part of AngularJS core )\nused it as base for ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"https://github.com/angular/angular.js/commit/1d3b65adc2c22ff662159ef910089cf10d1edb7b",target:"_blank",rel:"nofollow noopener noreferrer"}),"full ngClass refactor"),".\nAs he explains:"),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"}," In large based on #14404. Kudos to @drpicox for the initial idea and a big part\nof the implementation.")),Object(o.b)("p",null,"The reason behind of being implemented by him was to refactor everything\nquickly with multiple commits avoiding the PR proposal/accept delays."),Object(o.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(o.b)("pre",Object(c.a)({parentName:"div"},{className:"language-text"}),Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-text"}),"blabla"))),Object(o.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(o.b)("pre",Object(c.a)({parentName:"div"},{className:"language-javascript"}),Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-javascript"}),"a ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"3")))),Object(o.b)("p",null,"Before this PR there was some tricks that have to be done in the\nngClass expressions to make sure that they are fast enough:"),Object(o.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(o.b)("pre",Object(c.a)({parentName:"div"},{className:"language-javascript"}),Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-javascript"}),"    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),"i ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"icon"')," ng",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"-"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"{friendly: !!user.friends, male: user.isMale}"'),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"..."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"/"),"i",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">"),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),"td ng",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"-"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),"\"todo.completed && 'completed'\""),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"..."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"/"),"td",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">")))),Object(o.b)("p",null,"After this PR, the performances is good not matters the syntax:"),Object(o.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(o.b)("pre",Object(c.a)({parentName:"div"},{className:"language-javascript"}),Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-javascript"}),"    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),"i ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"icon"')," ng",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"-"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"{friendly: user.friends, male: user.isMale}"'),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"..."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"/"),"i",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">"),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),"td ng",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"-"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"{completed: todo.completed}"'),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"..."),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),"/"),"td",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token operator"}),">")))),Object(o.b)("p",null,"I have also created a ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"../angularjs-ngclass-benchpress"}),"PR with benchpress"),"\nto make sure that performance improvements are good."))}m.isMDXComponent=!0},WHYo:function(e,a,t){"use strict";t.d(a,"a",(function(){return N}));var c=t("q1tI"),n=t.n(c),o=t("7ljp"),s=t("eC7B"),b=t("qKvR"),p=t("8rN0");var r={name:"n8iuqn",styles:"margin-bottom:-4.5em;"};function m(e){var a=e.index;return Object(b.a)(n.a.Fragment,null,a&&Object(b.a)("div",{css:r},Object(b.a)(p.Link,{className:"index",to:"/"+a},a)))}var j={name:"ix6qzk",styles:'display:grid;grid-template-areas:"prev index next";grid-gap:0.5em;.prev{grid-area:prev;text-align:left;}.next{grid-area:next;text-align:right;}.index{grid-area:index;text-align:center;}'};function O(e){var a=e.prev,t=e.next,c=e.index;return c===a?Object(b.a)("div",{css:j},c&&Object(b.a)(p.Link,{className:"prev",to:"/"+c},"← Index"),t&&Object(b.a)(p.Link,{className:"next",to:"/"+t},t.replace(c,"")," →")):Object(b.a)("div",{css:j},c&&Object(b.a)(p.Link,{className:"index",to:"/"+c},c),a&&Object(b.a)(p.Link,{className:"prev",to:"/"+a},"← ",a.replace(c,"")),t&&Object(b.a)(p.Link,{className:"next",to:"/"+t},t.replace(c,"")," →"))}var l=t("m8Tn");function N(e){var a=e.children,t=e.pageContext.frontmatter,c=t.title,n=t.index,r=t.prev,j=t.next;return Object(b.a)(l.a,{title:c},Object(b.a)(o.a,{components:p},Object(b.a)(s.a,null,Object(b.a)(p.Container,null,Object(b.a)(m,{index:n}),c&&Object(b.a)("h1",null,c),a,Object(b.a)(O,{index:n,prev:r,next:j})))))}}}]);
//# sourceMappingURL=component---wiki-angular-js-ng-class-performance-mdx-8634791eb97c3ad99d44.js.map