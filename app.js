!function(a){"use strict";a.module("drHome",["ngAnimate","ngRoute","ngSanitize","ngtagsRuntime","drpxSeo","drpxOtherwiseHome","drpxToggle"])}(angular),function(a){"use strict";function b(){var a={bindToController:!0,controller:c,controllerAs:"vm",restrict:"E",scope:{bgImage:"@"},template:'\n<header>\n	<div class="container">\n		<div class="row">\n			<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">\n				<div ng-transclude=""></div>\n			</div>\n		</div>\n	</div>\n</header>\n	',transclude:!0};return a}function c(){}function d(){var a={bindToController:!0,controller:e,controllerAs:"vm",restrict:"E",scope:{post:"="},template:'\n<p>\n	Posted by <a href="javascript:false">David Rodenas</a> \n	on {{::vm.post.date | date}}\n	(<tags-list tagnames="::vm.post.tags"></tags-list>)\n</p>\n	'};return a}function e(){}function f(){var a={bindToController:!0,controller:g,controllerAs:"vm",restrict:"E",scope:{post:"="},template:'\n\n<a ng-href="#!/posts/{{::vm.post.basename}}">\n	<h2 class="post-title">\n		{{::vm.post.title}}\n	</h2>\n	<h3 class="post-subtitle">\n		{{::vm.post.subtitle}}\n	</h3>\n</a>\n<p class="post-abstract">\n	{{::vm.post.abstract ||&#xA0;vm.post.preview}}<br>\n	<a ng-href="#!/posts/{{::vm.post.basename}}" class="preview">View full post &#x2192;</a>\n</p>\n<post-meta post="vm.post"></post-meta>\n<hr>\n\n	'};return a}function g(){}function h(){var a={bindToController:!0,controller:i,controllerAs:"vm",restrict:"E",scope:{post:"="},template:'\n<div class="row">\n	<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">\n		<p class="abstract" ng-if="vm.post.abstract" ng-bind="vm.post.abstract"></p>\n		<div ng-bind-html="vm.post.body"></div>\n	</div>\n</div>\n	'};return a}function i(){}function j(){var a={bindToController:!0,controller:k,controllerAs:"vm",restrict:"E",scope:{posts:"="},template:'\n<h2 ng-repeat="post in vm.posts">\n	<a ng-href="#!/posts/{{post.basename}}" ng-bind="::post.title"></a>\n	<small>{{::post.date | date}}</small>\n</h2>\n	'};return a}function k(){}function l(){var a={bindToController:!0,controller:m,controllerAs:"vm",restrict:"E",scope:{posts:"="},template:'\n<div class="row">\n            <div ng-repeat="post in ::vm.posts" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">\n            	<post-preview data-post="post"></post-preview>\n	</div>\n</div>\n	'};return a}function m(){}function n(){var a={restrict:"E",scope:{},template:'\n    	<main class="container" ng-transclude=""></main>\n    ',transclude:!0};return a}function o(){var a={restrict:"E",scope:{},template:'\n<footer>\n	<div class="container">\n		<div class="row">\n			<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">\n				<ul class="list-inline text-center">\n					<li>\n						<a href="https://twitter.com/drpicox" target="_blank">\n							<span class="fa-stack fa-lg">\n								<i class="fa fa-circle fa-stack-2x"></i>\n								<i class="fa fa-twitter fa-stack-1x fa-inverse"></i>\n							</span>\n						</a>\n					</li>\n					<li>\n						<a href="https://delicious.com/drpicox" target="_blank">\n							<span class="fa-stack fa-lg">\n								<i class="fa fa-circle fa-stack-2x"></i>\n								<i class="fa fa-delicious fa-stack-1x fa-inverse"></i>\n							</span>\n						</a>\n					</li>\n					<li>\n						<a href="https://github.com/drpicox" target="_blank">\n							<span class="fa-stack fa-lg">\n								<i class="fa fa-circle fa-stack-2x"></i>\n								<i class="fa fa-github fa-stack-1x fa-inverse"></i>\n							</span>\n						</a>\n					</li>\n				</ul>\n				<p class="copyright text-muted">Copyright &#xA9; David Rodenas 2015</p>\n			</div>\n		</div>\n	</div>\n</footer>\n	'};return a}function p(){var a={restrict:"E",scope:{},template:'\n<!-- Navigation -->\n<nav class="navbar navbar-default navbar-custom navbar-fixed-top">\n	<div class="container-fluid">\n		<!-- Brand and toggle get grouped for better mobile display -->\n		<div class="navbar-header page-scroll">\n			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">\n				<span class="sr-only">Toggle navigation</span>\n				<span class="icon-bar"></span>\n				<span class="icon-bar"></span>\n				<span class="icon-bar"></span>\n			</button>\n			<a class="navbar-brand" href="#!/">\n				<img alt="David Rodenas" src="dh.images/david.jpg">\n				David Rodenas\n			</a>\n		</div>\n\n		<!-- Collect the nav links, forms, and other content for toggling -->\n		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n			<ul class="nav navbar-nav navbar-right">\n				<li>\n					<a href="#!/">Home</a>\n				</li>\n				<!--\n				<li>\n					<a href="about.html">About</a>\n				</li>\n				<li>\n					<a href="post.html">Sample Post</a>\n				</li>\n				-->\n				<li>\n					<a href="#!/contact">Contact</a>\n				</li>\n			</ul>\n		</div>\n		<!-- /.navbar-collapse -->\n	</div>\n	<!-- /.container -->\n</nav>\n	'};return a}function q(){function b(b,c){a.isUndefined(c.attr("layout"))&&c.attr("layout","row"),a.isUndefined(c.attr("layout-wrap"))&&c.attr("layout-wrap","")}var c={bindToController:!0,controller:r,controllerAs:"vm",link:b,restrict:"E",scope:{tags:"="},template:'\n<a ng-repeat="tag in vm.tags" ng-href="#!/tags/{{tag.tagname}}" ng-bind="tag.tagname" ng-style="{fontSize: tag.weight*100 +&apos;%&apos;, fontWeight: vm.fontWeight(tag)}"></a>\n	'};return c}function r(){this.fontWeight=function(a){return a.weight<.5?100:a.weight>2?900:400}}function s(){var a={bindToController:!0,controller:t,controllerAs:"vm",restrict:"E",scope:{tagnames:"="},template:'\n<span ng-repeat="tagname in ::vm.tagnames">\n	<a ng-href="#!/tags/{{::tagname}}">{{::tagname}}</a>{{::$last?&apos;&apos;:&apos;, &apos;}}\n</span>\n	'};return a}function t(){}function u(a){a.when("/contact",{controller:v,controllerAs:"vm",resolve:{posts:w,image:x},template:'\n<!-- Page Header -->\n<!-- Set your background image for this header on the line below. -->\n<intro-header style="background-image: url({{::vm.image}})">\n	<div class="site-heading">\n		<h1>Contact Me</h1>\n		<hr class="small">\n		<span class="subheading">Have questions? I have answers (maybe).</span>\n	</div>\n</intro-header>\n<site-content>\n	<div class="row">\n		<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">\n\n	<!-- Change the width and height values to suit you best -->\n	<div class="typeform-widget" data-url="https://drpicox.typeform.com/to/vWt79f" data-text="Contact Me" style="width:100%;height:500px;"></div>\n	<script>(function(){var qs,js,q,s,d=document,gi=d.getElementById,ce=d.createElement,gt=d.getElementsByTagName,id=\'typef_orm\',b=\'https://s3-eu-west-1.amazonaws.com/share.typeform.com/\';if(!gi.call(d,id)){js=ce.call(d,\'script\');js.id=id;js.src=b+\'widget.js\';q=gt.call(d,\'script\')[0];q.parentNode.insertBefore(js,q)}})()</script>\n	    <div style="font-family: Sans-Serif;font-size: 12px;color: #999;opacity: 0.5; padding-top: 5px;">Powered by <a href="http://www.typeform.com/?utm_campaign=typeform_vWt79f&amp;utm_source=website&amp;utm_medium=typeform&amp;utm_content=typeform-embedded&amp;utm_term=English" style="color: #999" target="_blank">Typeform</a></div>\n\n	    </div>\n	</div>\n</site-content>\n\n	'})}function v(a,b){this.posts=a,this.image=b}function w(a){return a.list()}function x(a){var b="dh.images/contact.jpg";return a.preload(b)}function y(a){a.when("/posts",{controller:z,controllerAs:"vm",resolve:{posts:A},template:'\n<site-content>\n	<posts-list posts="vm.posts"></posts-list>\n</site-content>\n	'})}function z(a){this.posts=a}function A(a){return a.list()}function B(a){a.when("/posts/:basename",{title:"{{post.title}}",description:"{{post.abstract ||Â post.preview}}",keywords:"{{post.tags.join(',')}},post,{{original}}",controller:C,controllerAs:"vm",resolve:{post:D,image:E},template:'\n<intro-header style="background-image: url(&apos;{{::vm.image}}&apos;)">\n	<div class="post-heading">\n		<h1>{{::vm.post.title}}</h1>\n		<h2 class="subheading">{{::vm.post.subtitle}}</h2>\n		<post-meta post="vm.post"></post-meta>\n	</div>\n</intro-header>\n<site-content>\n	<post-view post="vm.post"></post-view>\n</site-content>\n	'})}function C(a,b){this.post=a,this.image=b}function D(a,b){var c=b.current.params.basename;return a.get(c)}function E(a,b,c){var d=c.current.params.basename;return b.get(d).then(function(a){return a.image||"dh.images/"+a.tags[0]+".jpg"}).then(a.preload)}function F(a){a.when("/",{controller:G,controllerAs:"vm",resolve:{posts:H,image:I},template:'\n<!-- Page Header -->\n<!-- Set your background image for this header on the line below. -->\n<intro-header style="background-image: url({{::vm.image}})">\n	<div class="site-heading">\n		<h1>David&apos;s Home</h1>\n		<hr class="small">\n		<span class="subheading">Computer enthusiastic, doctor and engineer</span>\n	</div>\n</intro-header>\n<site-content>\n	<posts-previews posts="vm.posts"></posts-previews>\n</site-content>\n\n<!--\n<site-content>\n	<h1 class="home">Hi!</h1>\n	<p>\n		I\'m David Rodenas, a computer enthusiastic (also doctor and engineer).\n		I love to innovate and extract all potential to this <em>yount<em> \n		technology.\n	</p>\n	<p>\n		In this web page you will found (today and next months) full of material\n		about many topics, but specially related to Javascript \n		and web/app development.\n	</p>\n	<p>\n		See:\n	</p>\n	<ul>\n		<li><a href="#!/posts">Posts</a></li>\n		<li><a href="#!/tags">Tags</a></li>\n	</ul>\n\n	<h3>Interesting links</h3>\n	<ul>\n		<li>My delicious bookmarks: <a href="https://delicious.com/drpicox" target="_blank">drpicox</a>, \n			with lots of practical links tagged (and growing)\n		</li>\n		<li>My github account: <a href="https://github.com/drpicox" target="_blank">drpicox</a>,\n			with the source code of this page, and many other projects\n		</li>\n		<li>My twitter account: <a href="https://twitter.com/drpicox" target="_blank">drpicox</a>,\n			with lastest news about the JS world, and other useful/funny stuff\n		</li>\n	</ul>\n\n	<h3>Programming links</h3>\n	<ul>\n		<li><a href="https://github.com/drpicox/drpicox.github.io" target="_blank">This web page</a>\n		</li>\n		<li>Some of my open source <a href="https://github.com/drpicox/drpx-components" target="_blank">angular components</a>\n		</li>\n		<li>My first experience with polymer, a <a href="https://github.com/drpicox/polymer-carousel" target="_blank">polymer carousel</a>\n		</li>\n		<li>Very simple and small a <a href="https://github.com/drpicox/lunar-landing" target="_blank">lunar landing</a> game\n		</li>\n	</ul>\n\n	<h3>Teaching links</h3>\n	<ul>\n		<li><a href="https://github.com/drpicox/tutorial-promises-v1" target="_blank">Promises v1</a>\n		</li>\n		<li> <a href="https://github.com/drpicox/tutorial-gruntjs-v1" target="_blank">Grunt v1</a>\n		</li>\n		<li><a href="https://github.com/drpicox/tutorial-jspatterns-v1" target="_blank">Js Patterns v1</a>\n		</li>\n		<li><a href="https://github.com/drpicox/tutorial-angulardesigners-v1" target="_blank">Angular for Designers v1</a>\n		</li>\n	</ul>\n\n	<br><br>\n	<small>Note: this page is still in working progress.</small>\n\n</site-content>\n-->\n	'})}function G(a,b){this.posts=a,this.image=b}function H(a){return a.list()}function I(a){var b="dh.images/working.jpg";return a.preload(b)}function J(a){a.when("/tags",{controller:K,controllerAs:"vm",resolve:{tags:L},template:'\n<site-content>\n	<br>\n	<tag-cloud tags="vm.tags" layout-align="center"></tag-cloud>\n	<br>\n</site-content>\n	'})}function K(a,b){this.tags=b,a.current.title="Tag cloud",a.current.description="Lists of tags used in posts",a.current.keywords=["tags","list"]}function L(a){return a.list()}function M(a){a.when("/tags/:tagname",{title:"Posts with {{tagname}}",description:"List of posts for the tag {{tagname}}",keywords:"{{tagname}},list,posts,{{original}}",controller:N,controllerAs:"vm",resolve:{posts:O,tagname:P,image:Q},template:'\n<intro-header style="background-image: url(&apos;{{::vm.image}}&apos;)">\n	<div class="page-heading">\n		<h1>{{::vm.tagname}}</h1>\n	</div>\n</intro-header>\n<site-content>\n	<posts-previews posts="vm.posts"></posts-previews>\n</site-content>\n	'})}function N(a,b,c){this.posts=a,this.tagname=b,this.image=c}function O(a,b){var c=b.current.params.tagname;return a.get(c).then(function(a){return a.posts})}function P(a){var b=a.current.params.tagname;return b}function Q(a,b){var c=b.current.params.tagname,d="dh.images/"+c+".jpg";return a.preload(d)}a.module("drHome").directive("introHeader",b),a.module("drHome").directive("postMeta",d),a.module("drHome").directive("postPreview",f),a.module("drHome").directive("postView",h),a.module("drHome").directive("postsList",j),a.module("drHome").directive("postsPreviews",l),a.module("drHome").directive("siteContent",n),a.module("drHome").directive("siteFooter",o),a.module("drHome").directive("siteHeader",p),a.module("drHome").directive("tagCloud",q),a.module("drHome").directive("tagsList",s),a.module("drHome").config(u),u.$inject=["$routeProvider"],v.$inject=["posts","image"],w.$inject=["postsService"],x.$inject=["imagesService"],a.module("drHome").config(y),y.$inject=["$routeProvider"],z.$inject=["posts"],A.$inject=["postsService"],a.module("drHome").config(B),B.$inject=["$routeProvider"],C.$inject=["post","image"],D.$inject=["postsService","$route"],E.$inject=["imagesService","postsService","$route"],a.module("drHome").config(F),F.$inject=["$routeProvider"],G.$inject=["posts","image"],H.$inject=["postsService"],I.$inject=["imagesService"],a.module("drHome").config(J),J.$inject=["$routeProvider"],K.$inject=["$route","tags"],L.$inject=["tagsService"],a.module("drHome").config(M),M.$inject=["$routeProvider"],N.$inject=["posts","tagname","image"],O.$inject=["tagsService","$route"],P.$inject=["$route"],Q.$inject=["imagesService","$route"]}(angular),function(a){"use strict";function b(a){function b(b){return a(function(a){function c(){a(b)}var d=new Image;d.onload=c,d.onerror=c,d.src=b})}var c={preload:b};return c}a.module("drHome").factory("imagesService",b),b.$inject=["$q"]}(angular),function(a){"use strict";function b(){function b(b){b=e(b),b=marked(b);var c=a.element("<div>");return c.html(b),a.forEach(c[0].querySelectorAll("a[href^=http]"),function(a){a.setAttribute("target","_blank")}),a.forEach(c[0].querySelectorAll("code[class^=lang-]"),function(a){a.className="language-"+a.className.slice(5)}),a.forEach(c[0].querySelectorAll("img"),function(a){a.setAttribute("class","img-responsive"),a.parentElement.setAttribute("class","img-container")}),c}function c(a){var b=f.element(a);return a=b.html()}function d(a){var b=f.element(a);return a=b.text()}function e(a){var b=a.split("\n"),c=0;if("---"===b[0]){for(c=1;"---"!==b[c]&&b[c]!==b[-1];)c++;a=b.slice(c+1).join("\n")}return a}var f={element:b,html:c,text:d};return f}function c(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}a.module("drHome").factory("markdownTool",b),marked.setOptions({highlight:function(b,d){return d?(("xml"===d||"html"===d)&&(d="markup"),b='<code class="language-'+d+'">'+c(b)+"</code>",b=a.element(b),Prism.highlightElement(b[0]),b.html()):d},sanitize:!1})}(angular),function(a){"use strict";function b(a,b){function c(){f=b.get("posts.json").then(function(a){return a.data}),h=f.then(function(a){return Object.keys(a).map(function(b){return a[b]}).sort(function(a,b){return a.date<b.date?1:a.date>b.date?-1:0})}),h.then(function(b){b.forEach(function(b){b.preview=a.text(b.preview)})}),g={}}function d(c){var d;return c=c.basename||c,d=g[c],d||(d=f.then(function(a){return{post:a[c]}}).then(function(a){return b.get("dh.posts/"+c+".ymd").then(function(b){return a.body=b.data,a})}).then(function(a){return a.post.append?b.get(a.post.append).then(function(b){return a.body+=b.data,a}):a}).then(function(b){return b.post.body=a.html(b.body),b.post}),g[c]=d),d}function e(){return h}var f,g,h,i={get:d,list:e};return c(),i}a.module("drHome").factory("postsService",b),b.$inject=["markdownTool","$http"]}(angular),function(a){"use strict";function b(b){function c(){f=b.list().then(function(a){var b={};return a.forEach(function(a){a.tags.forEach(function(c){var d=b[c];d||(d=b[c]={tagname:c,posts:[],weight:1}),d.posts.push(a)})}),b}),g=f.then(function(b){var c,d=[];return a.forEach(b,function(a){d.push(a)}),d.sort(function(a,b){return a.tagname<b.tagname?-1:a.tagname>b.tagname?1:0}),c=d.reduce(function(a,b){return a+b.posts.length},0),d.forEach(function(a){a.weight=a.posts.length/(c/d.length)}),d})}function d(a){return f.then(function(b){return b[a]})}function e(){return g}var f,g,h={get:d,list:e};return c(),h}a.module("drHome").factory("tagsService",b),b.$inject=["postsService"]}(angular);