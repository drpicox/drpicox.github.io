!function(a){"use strict";a.module("drHome",["ngAnimate","ngRoute","ngSanitize","ngtagsRuntime","drpxSeo","drpxOtherwiseHome","drpxToggle"])}(angular),function(a){"use strict";function b(){var a={bindToController:!0,controller:c,controllerAs:"vm",restrict:"E",scope:{post:"="},template:'\n<div class="post">\n	<br hide-sm="">\n	<br>\n	<h1 class="title" ng-bind="vm.post.title"></h1>\n	<p class="abstract" ng-if="vm.post.abstract" ng-bind="vm.post.abstract"></p>\n	<tags-list tagnames="vm.post.tags" layout-align="{{!vm.post.abstract &amp;&amp; &apos;center&apos;}}"></tags-list>\n	<br hide-sm="">\n	<br>\n	<div ng-bind-html="vm.post.body"></div>\n</div>\n	'};return a}function c(){}function d(){var a={bindToController:!0,controller:e,controllerAs:"vm",restrict:"E",scope:{posts:"="},template:'\n<div class="container">\n	<div ng-repeat="post in ::vm.posts" class="card whiteframe-z1">\n		<h2><a ng-href="#!/posts/{{::post.basename}}" ng-bind="::post.title"></a> <small>{{::post.date | date}}</small></h2>\n		<div ng-bind="::post.abstract ||&#xA0;post.preview" class="preview"></div>\n		<a ng-href="#!/posts/{{::post.basename}}" class="preview">View full post &#x2192;</a>\n		<br><br>\n		<tags-list tagnames="::post.tags"></tags-list>\n	</div>\n</div>\n	'};return a}function e(){}function f(){var a={bindToController:!0,controller:g,controllerAs:"vm",restrict:"E",scope:{posts:"="},template:'\n<h2 ng-repeat="post in vm.posts">\n	<a ng-href="#!/posts/{{post.basename}}" ng-bind="::post.title"></a>\n	<small>{{::post.date | date}}</small>\n</h2>\n	'};return a}function g(){}function h(){function a(a,b){b.addClass("container")}var b={link:a,restrict:"E",scope:{},template:'\n    	<div class="card whiteframe-z1" ng-transclude=""></div>\n    ',transclude:!0};return b}function i(){function b(b,c){a.isUndefined(c.attr("layout"))&&c.attr("layout","row"),a.isUndefined(c.attr("layout-align"))&&c.attr("layout-align","center center")}var c={link:b,restrict:"E",scope:{},template:"\n<br>\n<small>David Rodenas &#xA9; 2015</small>\n	"};return c}function j(){function b(b,c){a.isUndefined(c.attr("flex"))&&c.attr("flex","")}var c={bindToController:!0,controller:k,controllerAs:"vm",link:b,restrict:"E",scope:{},template:'\n<nav layout="row" layout-align="start center" class="container">\n	<a href="#!/" class="homeBtn"></a>\n	<h1 ng-bind="vm.title" class="ellipsis"></h1>\n	<a ng-repeat="link in vm.links" ng-href="{{link.url}}" ng-bind="link.label"></a>\n	<div flex=""></div>\n	<a ng-href="https://twitter.com/drpicox" target="_blank" class="btn">Contact</a>\n</nav>\n	'};return c}function k(){var a=this;a.links=[{url:"#!/",label:"Home"}]}function l(){function b(b,c){a.isUndefined(c.attr("layout"))&&c.attr("layout","row"),a.isUndefined(c.attr("layout-wrap"))&&c.attr("layout-wrap","")}var c={bindToController:!0,controller:m,controllerAs:"vm",link:b,restrict:"E",scope:{tags:"="},template:'\n<a ng-repeat="tag in vm.tags" ng-href="#!/tags/{{tag.tagname}}" ng-bind="tag.tagname" ng-style="{fontSize: tag.weight*100 +&apos;%&apos;, fontWeight: vm.fontWeight(tag)}"></a>\n	'};return c}function m(){this.fontWeight=function(a){return a.weight<.5?100:a.weight>2?900:400}}function n(){function b(b,c){a.isUndefined(c.attr("layout"))&&c.attr("layout","row"),a.isUndefined(c.attr("layout-wrap"))&&c.attr("layout-wrap","")}var c={bindToController:!0,controller:o,controllerAs:"vm",link:b,restrict:"E",scope:{tagnames:"="},template:'\n<a ng-repeat="tagname in ::vm.tagnames" ng-href="#!/tags/{{::tagname}}" ng-bind="::tagname" aria-label="tag {{::tagname}}"></a>\n	'};return c}function o(){}function p(a){a.when("/posts",{controller:q,controllerAs:"vm",resolve:{posts:r},template:'\n<site-content>\n	<posts-list posts="vm.posts"></posts-list>\n</site-content>\n	'})}function q(a){this.posts=a}function r(a){return a.list()}function s(a){a.when("/posts/:basename",{title:"{{post.title}}",description:"{{post.abstract ||Â post.preview}}",keywords:"{{post.tags.join(',')}},post,{{original}}",controller:t,controllerAs:"vm",resolve:{post:u},template:'\n<site-content>\n	<post-view post="vm.post"></post-view>\n</site-content>\n	'})}function t(a){this.post=a}function u(a,b){var c=b.current.params.basename;return a.get(c)}function v(a){a.when("/",{controller:w,controllerAs:"vm",resolve:{posts:x},template:'\n<!--\n<site-content>\n	<h1 class="home">Hi!</h1>\n	<p>\n		I\'m David Rodenas, a computer enthusiastic (also doctor and engineer).\n		I love to innovate and extract all potential to this <em>yount<em> \n		technology.\n	</p>\n	<p>\n		In this web page you will found (today and next months) full of material\n		about many topics, but specially related to Javascript \n		and web/app development.\n	</p>\n	<p>\n		See:\n	</p>\n	<ul>\n		<li><a href="#!/posts">Posts</a></li>\n		<li><a href="#!/tags">Tags</a></li>\n	</ul>\n\n	<h3>Interesting links</h3>\n	<ul>\n		<li>My delicious bookmarks: <a href="https://delicious.com/drpicox" target="_blank">drpicox</a>, \n			with lots of practical links tagged (and growing)\n		</li>\n		<li>My github account: <a href="https://github.com/drpicox" target="_blank">drpicox</a>,\n			with the source code of this page, and many other projects\n		</li>\n		<li>My twitter account: <a href="https://twitter.com/drpicox" target="_blank">drpicox</a>,\n			with lastest news about the JS world, and other useful/funny stuff\n		</li>\n	</ul>\n\n	<h3>Programming links</h3>\n	<ul>\n		<li><a href="https://github.com/drpicox/drpicox.github.io" target="_blank">This web page</a>\n		</li>\n		<li>Some of my open source <a href="https://github.com/drpicox/drpx-components" target="_blank">angular components</a>\n		</li>\n		<li>My first experience with polymer, a <a href="https://github.com/drpicox/polymer-carousel" target="_blank">polymer carousel</a>\n		</li>\n		<li>Very simple and small a <a href="https://github.com/drpicox/lunar-landing" target="_blank">lunar landing</a> game\n		</li>\n	</ul>\n\n	<h3>Teaching links</h3>\n	<ul>\n		<li><a href="https://github.com/drpicox/tutorial-promises-v1" target="_blank">Promises v1</a>\n		</li>\n		<li> <a href="https://github.com/drpicox/tutorial-gruntjs-v1" target="_blank">Grunt v1</a>\n		</li>\n		<li><a href="https://github.com/drpicox/tutorial-jspatterns-v1" target="_blank">Js Patterns v1</a>\n		</li>\n		<li><a href="https://github.com/drpicox/tutorial-angulardesigners-v1" target="_blank">Angular for Designers v1</a>\n		</li>\n	</ul>\n\n	<br><br>\n	<small>Note: this page is still in working progress.</small>\n\n</site-content>\n-->\n<posts-cards posts="vm.posts"></posts-cards>\n	'})}function w(a){this.posts=a}function x(a){return a.list()}function y(a){a.when("/tags",{controller:z,controllerAs:"vm",resolve:{tags:A},template:'\n<site-content>\n	<br>\n	<tag-cloud tags="vm.tags" layout-align="center"></tag-cloud>\n	<br>\n</site-content>\n	'})}function z(a,b){this.tags=b,a.current.title="Tag cloud",a.current.description="Lists of tags used in posts",a.current.keywords=["tags","list"]}function A(a){return a.list()}function B(a){a.when("/tags/:tagname",{title:"Posts with {{tagname}}",description:"List of posts for the tag {{tagname}}",keywords:"{{tagname}},list,posts,{{original}}",controller:C,controllerAs:"vm",resolve:{posts:D,tagname:E},template:'\n<site-content>\n	<h1>Posts with {{vm.tagname}}</h1>\n	<br>\n	<posts-list posts="vm.posts"></posts-list>\n</site-content>\n	'})}function C(a,b){this.posts=a,this.tagname=b}function D(a,b){var c=b.current.params.tagname;return a.get(c).then(function(a){return a.posts})}function E(a){var b=a.current.params.tagname;return b}a.module("drHome").directive("postView",b),a.module("drHome").directive("postsCards",d),a.module("drHome").directive("postsList",f),a.module("drHome").directive("siteContent",h),a.module("drHome").directive("siteFooter",i),a.module("drHome").directive("siteHeader",j),a.module("drHome").directive("tagCloud",l),a.module("drHome").directive("tagsList",n),a.module("drHome").config(p),p.$inject=["$routeProvider"],q.$inject=["posts"],r.$inject=["postsService"],a.module("drHome").config(s),s.$inject=["$routeProvider"],t.$inject=["post"],u.$inject=["postsService","$route"],a.module("drHome").config(v),v.$inject=["$routeProvider"],w.$inject=["posts"],x.$inject=["postsService"],a.module("drHome").config(y),y.$inject=["$routeProvider"],z.$inject=["$route","tags"],A.$inject=["tagsService"],a.module("drHome").config(B),B.$inject=["$routeProvider"],C.$inject=["posts","tagname"],D.$inject=["tagsService","$route"],E.$inject=["$route"]}(angular),function(a){"use strict";function b(){function b(b){b=e(b),b=marked(b);var c=a.element("<div>");return c.html(b),a.forEach(c[0].querySelectorAll("a[href^=http]"),function(a){a.setAttribute("target","_blank")}),a.forEach(c[0].querySelectorAll("code[class^=lang-]"),function(a){a.className="language-"+a.className.slice(5)}),a.forEach(c[0].querySelectorAll("img"),function(a){a.setAttribute("class","img-responsive"),a.parentElement.setAttribute("class","img-container")}),c}function c(a){var b=f.element(a);return a=b.html()}function d(a){var b=f.element(a);return a=b.text()}function e(a){var b=a.split("\n"),c=0;if("---"===b[0]){for(c=1;"---"!==b[c]&&b[c]!==b[-1];)c++;a=b.slice(c+1).join("\n")}return a}var f={element:b,html:c,text:d};return f}function c(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}a.module("drHome").factory("markdownTool",b),marked.setOptions({highlight:function(b,d){return d?(("xml"===d||"html"===d)&&(d="markup"),b='<code class="language-'+d+'">'+c(b)+"</code>",b=a.element(b),Prism.highlightElement(b[0]),b.html()):d},sanitize:!1})}(angular),function(a){"use strict";function b(a,b){function c(){f=b.get("posts.json").then(function(a){return a.data}),h=f.then(function(a){return Object.keys(a).map(function(b){return a[b]}).sort(function(a,b){return a.date<b.date?1:a.date>b.date?-1:0})}),h.then(function(b){b.forEach(function(b){b.preview=a.text(b.preview)})}),g={}}function d(c){var d;return c=c.basename||c,d=g[c],d||(d=f.then(function(a){return{post:a[c]}}).then(function(a){return b.get("posts/"+c+".ymd").then(function(b){return a.body=b.data,a})}).then(function(a){return a.post.append?b.get(a.post.append).then(function(b){return a.body+=b.data,a}):a}).then(function(b){return b.post.body=a.html(b.body),b.post}),g[c]=d),d}function e(){return h}var f,g,h,i={get:d,list:e};return c(),i}a.module("drHome").factory("postsService",b),b.$inject=["markdownTool","$http"]}(angular),function(a){"use strict";function b(b){function c(){f=b.list().then(function(a){var b={};return a.forEach(function(a){a.tags.forEach(function(c){var d=b[c];d||(d=b[c]={tagname:c,posts:[],weight:1}),d.posts.push(a)})}),b}),g=f.then(function(b){var c,d=[];return a.forEach(b,function(a){d.push(a)}),d.sort(function(a,b){return a.tagname<b.tagname?-1:a.tagname>b.tagname?1:0}),c=d.reduce(function(a,b){return a+b.posts.length},0),d.forEach(function(a){a.weight=a.posts.length/(c/d.length)}),d})}function d(a){return f.then(function(b){return b[a]})}function e(){return g}var f,g,h={get:d,list:e};return c(),h}a.module("drHome").factory("tagsService",b),b.$inject=["postsService"]}(angular);