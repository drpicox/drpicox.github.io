(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{WHYo:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));t("q1tI");var n=t("7ljp"),c=t("eC7B"),s=t("8rN0"),b=t("m8Tn"),o=t("qKvR");function p(e){var a=e.children,t=e.pageContext.frontmatter.title;return Object(o.a)(b.a,{title:t},Object(o.a)(n.a,{components:s},Object(o.a)(c.a,null,Object(o.a)(s.Container,null,t&&Object(o.a)("h1",null,t),a))))}},"zlH/":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return p})),t.d(a,"default",(function(){return l}));var n=t("wx14"),c=t("zLVn"),s=(t("q1tI"),t("7ljp")),b=t("4xnX"),o=t("WHYo"),p=(t("qKvR"),{}),m={_frontmatter:p},r=o.a;function l(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(s.b)(r,Object(n.a)({},m,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("p",null,"How to add new tests?"),Object(s.b)(b.a,{mdxType:"Deck"},Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)("h2",null,"Creating the test"),Object(s.b)("p",null,"The first step is the test creation. You need to:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},"Create a ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"post.md")),Object(s.b)("li",{parentName:"ol"},"Create and pass the backend test"),Object(s.b)("li",{parentName:"ol"},"Create and pass the frontend test"))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)("h2",null,"Create and pass backend test"),Object(s.b)("p",null,"Begin creating and passing the backend test.\nThe steps are the followings:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Create the ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"post.md")),Object(s.b)("li",{parentName:"ul"},"Create the JUnit test field"),Object(s.b)("li",{parentName:"ul"},"Add missing steps with TDD"))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Create a new post.md file"),Object(s.b)("p",null,"Copy the markdown contents from the issue to the following file:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"/src/main/resources/blog/yyyy-mm-dd_title_with_undercases.md"))),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"yyyy"),": is the current year"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"mm"),": is the current month with two digits (01 january, 10 october)"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"dd"),": is the current day with two digits (04, 10, 17 or 31)"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"title_with_undercases"),": is the title replacing no letter/numbers by a single underscore"))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Create the JUnit test file"),Object(s.b)("p",null,"Create the corresponding class in the test package:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"/src/test/com.drpicox.game/Post_yyyymmdd_TitleInUpperPascalCase_Test.java"))),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"yyyy"),": is the current year"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"mm"),": is the current month with two digits (01 january, 10 october)"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"dd"),": is the current day with two digits (04, 10, 17 or 31)"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"TitleInUpperPascalCase"),": is the title replacing no letter/numbers by a single underscore")),Object(s.b)("p",null,"The file content should be:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"java"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-java"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"package")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token namespace"}),"com",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),"drpicox",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),"game"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@ActiveProfiles"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"test"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@ExtendWith"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"SpringExtension"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@SpringBootTest"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@AutoConfigureMockMvc"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"public")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"Post_yyyymmdd_TitleInUpperPascalCase_Test")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Autowired")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"private")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"PostTestFactory")," postTestFactory",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@TestFactory"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"List"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token generics"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"<"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token class-name"}),"DynamicTest"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),">"))," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"makeTests"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"throws")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"Exception")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," postTestFactory",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"createTests"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"yyyy-mm-dd_title_with_undercases"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("blockquote",null,Object(s.b)("blockquote",{parentName:"blockquote"},Object(s.b)("p",{parentName:"blockquote"},"⚠️ ",Object(s.b)("strong",{parentName:"p"},"Important"),": Do not forget to add ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"_Test")," at the end of the classname.\nIt is necessary to run the tests automatically from the command line.\nAlso make sure that the name matches the blog, because there is an\nautomatic process that evaluates that all posts have test.")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Running steps"),Object(s.b)("p",null,"Each blog sentence is a test step. The ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"PostRunner")," recognizes\neach one and executes the appropiate test step. For example:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"[PLSLiterature              ] ## Let's begin the game\n[PLSEmptyLine               ]\n[PLSLiterature              ] ### Create a gameplay\n[PLSEmptyLine               ]\n[PLSLiterature              ] Before playing, register you and your friend to play.\n[PLSEmptyLine               ]\n[ClickNewGameInTheMainHeader] > Click _New Game_ in the main header.\n[TypeIntoTheNewGameName     ] > Type _FirstGame_ into the _new game name_.\n[SelectIntoTheGameScenario  ] > Select _Basic_ into the _game scenario_.")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Steps structure"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"java"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-java"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"package")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token namespace"}),"com",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),"drpicox",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),"game",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),"testSteps",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),"newGame"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Component"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"public")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TypeIntoTheNewGameName")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"extends")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"AbstractPostLineStep")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"private")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"final")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TestPostForms")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"public")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TypeIntoTheNewGameName"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TestPostForms")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                               ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- Spring injects here the TestPostForms"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"this"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"testPostForms ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- and the class saves it for later"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Override"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"protected")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"String")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getRegex"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Type _([^_]+)_ into the _new game name_"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n             ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- this is a regular expresion"),"\n             ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"//       ^- this is the capture group [1]"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Override"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"protected")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"void")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"run"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"PostLine")," line",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"String"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]")," match",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"String")," name ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," match",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// <- gets the capture group [1]"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"var")," newGame ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"NewGameForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n                      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- gets the current form values for NewGameForm.class"),"\n        newGame",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"changeGameName"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"name",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"))))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Steps packages"),Object(s.b)("p",null,"Steps are orgenized in packages to ease finding them.\nCurrent packages are:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"testSteps\n  - board      # checks for cards in the hand or in a table\n  - cheating   # help to advance the state quickly and set mocks\n  - enterGame  # handles a player entering to a game\n  - newGame    # handles the game creation\n  - play       # player actions of playing cards into piles\n  - players    # ready/refresh and tools to quickly change player")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Missing steps"),Object(s.b)("p",null,"Some times you write sentences that have no step associated:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"2020-08-24_defensing_fields:12  > Click _New Game_ in the main header.\n2020-08-24_defensing_fields:13  > Type _FirstGame_ into the _new game name_.\n\n\njava.lang.AssertionError: There are no PostLineSteps (0) matching the instruction:\n=> 2020-08-24_defensing_fields:13  > Type _FirstGame_ into the _new game name_.\n\n\tat com.drpicox.game.testPost.PostRunner.newErrorNoRunnersFound(PostRunner.java:72)\n\tat com.drpicox.game.testPost.PostRunner.runLine(PostRunner.java:35)"))),Object(s.b)("p",null,"If that happens:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Check if you have misspelled"),Object(s.b)("li",{parentName:"ul"},"Check if you have another sentence that does the same"),Object(s.b)("li",{parentName:"ul"},"Check if there is a better sentence"),Object(s.b)("li",{parentName:"ul"},"Add a new Step if it is necessary"))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Add new steps"),Object(s.b)("p",null,"The convention for adding one new step is creating a class that has\nas name the upper pascal case of the text of the sentence, but removing\nthe variables."),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Start copy/pasting a similar step"),Object(s.b)("li",{parentName:"ul"},"Add the sentence to the appropiate package"),Object(s.b)("li",{parentName:"ul"},"Make sure that you use the naming convention"),Object(s.b)("li",{parentName:"ul"},"They inherit from ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"AbstractPostLineStep")),Object(s.b)("li",{parentName:"ul"},"Make sure that they have the ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"@Component")," annotation")),Object(s.b)("blockquote",null,Object(s.b)("blockquote",{parentName:"blockquote"},Object(s.b)("p",{parentName:"blockquote"},"Some old classes have substituted variables in his name by X, Y, ...\nremove them. For example:\nrename ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"TypeXIntoTheNewGameName")," into ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"TypeIntoTheNewGameName"),".")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Forms"),Object(s.b)("p",null,"Backend has no view and no player state. Forms emulate that state."),Object(s.b)("div",{className:"gatsby-highlight","data-language":"java"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-java"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TestPostForms")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token generics"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"<"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token class-name"}),"T"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),">"))," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"T")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"newForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"Class"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token generics"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"<"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token class-name"}),"T"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),">"))," formClass",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// creates (and replaces) a form from a class"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token generics"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"<"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token class-name"}),"T"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),">"))," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"T")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"Class"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token generics"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"<"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token class-name"}),"T"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),">"))," formClass",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// gets the form of that class"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token generics"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"<"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token class-name"}),"T"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),">"))," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"T")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"setForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"T")," formInstance",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"     ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// sets a form instance for a given class"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Steps creates new forms when the user enters to a view, ex: ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"ClickNewGameInTheMainHeader")),Object(s.b)("li",{parentName:"ul"},"Steps sets values to the form, ex: ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"TypeIntoTheNewGameName")),Object(s.b)("li",{parentName:"ul"},"Steps reads from forms to make assertions, ex: ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"TheCurrentPlayerIs")),Object(s.b)("li",{parentName:"ul"},"Steps replaces form content with API responses: ",Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"ClickTheEnterButton")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"SnapshotService"),Object(s.b)("p",null,"Use the ",Object(s.b)("strong",{parentName:"p"},"SnapshotService to emulate API calls")," from the frontend."),Object(s.b)("div",{className:"gatsby-highlight","data-language":"java"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-java"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Component"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"public")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"ClickTheEnterButton")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"extends")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"AbstractPostLineStep")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"private")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"final")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TestPostForms")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"private")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"final")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"SnapshotService")," snapshotService",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"public")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"ClickTheEnterButton"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"TestPostForms")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"SnapshotService")," snapshotService",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"this"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"testPostForms ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"this"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"snapshotService ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," snapshotService",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Override"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"protected")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"String")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getRegex"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Click the _Enter_ button"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token annotation punctuation"}),"@Override"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"protected")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"void")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"run"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"PostLine")," line",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"String"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]")," match",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"var")," form ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"EnterGameForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"var")," game ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," form",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getGameName"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"var")," player ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," form",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getPlayerName"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"var")," result ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," snapshotService",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"get"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"/api/v1/games/"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"+"),"game",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"+"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"/players/"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"+"),"player",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"null"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"VisibleGameForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n        testPostForms",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"setForm"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"result",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"))))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Snapshot step"),Object(s.b)("p",null,"After a step needs to use the SnapshotService,\nyou need an extra hidden sentence in the markdown to save\nthe snapshot."),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"})," > Click the _Create Game_ button.\n \x3c!-- SNAPSHOT status=200 --\x3e"))),Object(s.b)("p",null,"It invokes the ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"PLSSnapshot"),", which saves the last API call into\nthe corresponding ",Object(s.b)("em",{parentName:"p"},"snapshots.json"),". It also checks that the service\nreturns the expected status."),Object(s.b)("p",null,"Make sure that you always add a step for saving the snapshot after\nany step that emulates an API call.")),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Create and pass backend test"))),Object(s.b)("h3",null,"Multiple step errors"),Object(s.b)("p",null,"Each sentence can only be matched by one and only by one step.\nIf given one sentence, it can match two steps, it fails:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),'2020-08-21_buying_fields:31  > _Martel_ has in his hand _2_ _event_ card of _sheep_.\n\n\njava.lang.AssertionError: Too many PostLineSteps (2) matches the instruction:\n=> 2020-08-21_buying_fields:31  > _Martel_ has in his hand _2_ _event_ card of _sheep_.\nThey are:\n  - Matches "_([^_]+)_ has in h[ei][rs] hand _([^_]+)_ _([^_]+)_ card" (com.drpicox.game.testSteps.board.HasInHisHandNCards)\n  - Matches "_([^_]+)_ has in h[ei][rs] hand _([^_]+)_ _([^_]+)_ cards? of _([^_]+)_" (com.drpicox.game.testSteps.board.HasInHisHandNCardsOf)\n\n\n\tat com.drpicox.game.testPost.PostRunner.newErrorTooManyMatches(PostRunner.java:68)\n\tat com.drpicox.game.testPost.PostRunner.runLine(PostRunner.java:33)'))),Object(s.b)("p",null,"Note that the first match is a shorter version of the same sentence and because of it fails,\none is a subset of the other.\nBe caurefule when redacting new sentences, or use regex exclusion patterns\nto avoid those cases.")),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)("h2",null,"Frontend"),Object(s.b)("p",null,"Frontend and backend run the same set of sentences,\nbut they have different implementations."),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"You have to replicate steps in frontend"),Object(s.b)("li",{parentName:"ul"},"You have to use the UI from your steps"),Object(s.b)("li",{parentName:"ul"},"Forms are the ones in the UI"),Object(s.b)("li",{parentName:"ul"},"API calls are executed by the UI interaction"),Object(s.b)("li",{parentName:"ul"},"PLSSnapshot checks that the UI did the correct API call and provides the response"))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Frontend"))),Object(s.b)("h3",null,"Frontend folders"),Object(s.b)("p",null,"Javascript does not have packages, but it has folders, they are:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"src/www/__test__/testSteps\n  - board/      # checks for cards in the hand or in a table\n  - cheating/   # ignores mocks and cheating at backend\n  - enterGame/  # handles a player entering to a game\n  - forms/      # generic sentences to handle forms (!!!)\n  - newGame/    # handles the game creation\n  - play/       # player actions of playing cards into piles\n  - players/    # ready/refresh and tools to quickly change player")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Frontend"))),Object(s.b)("h3",null,"@testing-library helpers"),Object(s.b)("p",null,"There are some testing accessors that are common for more than\none step, they are inside ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"helpers")," folder inside boards, ex:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"src/www/__test__/testSteps/board/\n  - helpers/\n    - getAllByCard.ts        # see example\n    - getAllByCardOf.ts\n    - ...\n    - index.js               # barrel\n  - configureInjector.ts     # steps registration\n  - HasAtTheSquareACardOf.ts # step implementation\n  - ..."))),Object(s.b)("div",{className:"gatsby-highlight","data-language":"typescript"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-typescript"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," getAllByTestId ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"@testing-library/dom"'),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"export")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getAllByCard"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n  container",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," HTMLElement",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"type"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin"}),"string"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," HTMLElement",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getAllByTestId"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"container",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token template-string"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token string"}),"card-"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token keyword"}),"type"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"))))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Frontend"))),Object(s.b)("h3",null,"Create a step"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"typescript"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-typescript"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," AbstractPostLineStep ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"../AbstractPostLineStep"'),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," getAllByCard",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," getByHand ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"../board/helpers"'),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// it uses helpers from other folders ---^ (becareful with dependency cycle)"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," playCardIntoPile ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"./helpers"'),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// it uses helpers from its folder -^"),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"export")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"PlaysACardIntoHisSquarePile")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"extends")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"AbstractPostLineStep")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"constructor"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"super"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token regex"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token regex-delimiter"}),"/"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token regex-source language-regex"}),"_([^_]+)_ plays an? _([^_]+)_ card into h[ei][rs] square _([^_]+)_ pile"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token regex-delimiter"}),"/"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token regex-flags"}),"i")),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- the regular expression that matches"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- capture group [1]                                   ^- & [3]"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"//                     ^- capture group [2]"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"runMatch"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"_",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin"}),"any"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," match",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin"}),"string"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," player",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"type"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," square",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," match\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- destructuring to get capture group values"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"const")," hand ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getByHand"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"document",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"body",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," player",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"card",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getAllByCard"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"hand",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"type"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- finds things in the UI to operate"),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"playCardIntoPile"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"card",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token template-string"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"player",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token string"}),"-square-"),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"square",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- and operates (here with a helper)"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"))))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Frontend"))),Object(s.b)("h3",null,"Register the step"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"typescript"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-typescript"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," Injector ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"www/injector"'),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," PostLineStep ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"www/__test__/testPost"'),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{")," ClickEnterGameInTheMainHeader ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"./ClickEnterGameInTheMainHeader"'),"\n\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"export")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"default")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"configureEnterGameInjector"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"injector",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," Injector",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  injector",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"register"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"PostLineStep",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ClickEnterGameInTheMainHeader",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"//                ^- it is a PostLineStep"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"//          it is the class implementation -^"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"))))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Frontend"))),Object(s.b)("h3",null,"Asyncronous"),Object(s.b)("p",null,"Javascript executes API call asynchronously, and it requires special code\nto wait for its completaion."),Object(s.b)("p",null,"The frontend has a loader spinner that test utilized to wait data loading.\nSee ",Object(s.b)("code",Object(n.a)({parentName:"p"},{className:"language-text"}),"PLSSnapshot"),":"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"typescript"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-typescript"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"export")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"class")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"PLSSnapshot")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"implements")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token class-name"}),"PostLineStep")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"..."),"\n\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"run"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"line",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," PostLine",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"..."),"\n\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"expect"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"screen",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getByTestId"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"loading"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"toBeInTheDocument"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- makes sure that the AfterStep hints loading"),"\n    interaction",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"resolve"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"snapshot",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"responseStatus",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," snapshot",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"responseBody",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"await")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"waitForElementToBeRemoved"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=>")," screen",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getByTestId"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"loading"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"// ^- waits that the API call has finished and results rendered"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"))))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)("h2",null,"Quirks")),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Quirks"))),Object(s.b)("h3",null,"Cheats and mocks"),Object(s.b)("p",null,"There are special sentences to advance quickly the game, or ensure\nthat random cards are the ones that we expect in the tests, they are:"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"text"},Object(s.b)("pre",Object(n.a)({parentName:"div"},{className:"language-text"}),Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"[CheatDiscardsNCardsOfAtSquare] CHEAT _Martel_ discards _3_ _event_ cards of _fire_ at square _1_\n[CheatPicksNCardsAtSquare     ] CHEAT _Martel_ picks _3_ _food_ cards at square _1_\n[CheatPicksNCardsOfAtSquare   ] CHEAT _Martel_ picks _3_ _field_ cards _seaport_ at square _1_\n[MockTakeAs                   ] MOCK take _field_ as _frest_")))),Object(s.b)(b.c,{mdxType:"Slide"},Object(s.b)(b.b,{mdxType:"ShowWhenPresenting"},Object(s.b)("small",null,Object(s.b)("p",null,"Quirks"))),Object(s.b)("h3",null,"Multiuser quirks"),Object(s.b)("p",null,"Test only evaluates one frontend instance each time,\nbut we need to emulate multiple browsers."),Object(s.b)("p",null,"One way is to enter each time with the corresponding user,\nbut it is boring for the user and difficults the readability\nof the test."),Object(s.b)("p",null,"Instead of it there are special Steps that deal with that.\nFor example:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"AllPlayersClickReadyAndThenRefreshInTheMainHeader"),":\nemulates that all players click ready and refresh"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("code",Object(n.a)({parentName:"li"},{className:"language-text"}),"UseTheBrowserOf"),":\nemulates that there are multiple users")))))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---wiki-tc-ls-2-testing-mdx-62d9b536e3b7088809f0.js.map