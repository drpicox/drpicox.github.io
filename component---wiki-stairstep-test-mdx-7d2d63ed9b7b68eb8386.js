(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{ZhjV:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return p})),t.d(a,"default",(function(){return r}));t("E5k/"),t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi"),t("q1tI");var n=t("7ljp"),c=t("WHYo");t("qKvR");function s(){return(s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var o,p={},b=(o="Link",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),Object(n.b)("div",e)}),m={_frontmatter:p},N=c.a;function r(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,["components"]);return Object(n.b)(N,s({},m,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,Object(n.b)("em",{parentName:"p"},"A stairstep test is a test that by itself has no clear business value; it helps you to construct the production code in small cycles in ",Object(n.b)(b,{to:"/TheThreeStagesOfTDD",mdxType:"Link"},"[TheThreeStagesOfTDD]"),", and once you have more tests, you remove them.")),Object(n.b)("p",null,"An excelent example of what are stairstep tests can be found in the ",Object(n.b)(b,{to:"/BowlingGameKata",mdxType:"Link"},"[BowlingGameKata]"),"."),Object(n.b)("p",null,"The first test that creates is:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",s({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",s({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"create a game"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"const")," g ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"new")," ",Object(n.b)("span",s({parentName:"code"},{className:"token class-name"}),"Game"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"And latter it adds the following test:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",s({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",s({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"roll a ball"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"const")," g ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"new")," ",Object(n.b)("span",s({parentName:"code"},{className:"token class-name"}),"Game"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n  g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"roll"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"None of both tests are significant at the business level. They provide almost no information about the functionalities of our system, but it helps us to construct the production code in small increment steps."),Object(n.b)("p",null,"The first surprise in the test is what happens when we detect duplicated code in the tests, and we decide to refactor them."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",s({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",s({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"let")," g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"beforeEach"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),"g ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"new")," ",Object(n.b)("span",s({parentName:"code"},{className:"token class-name"}),"Game"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"create a game"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"roll a ball"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n  g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"roll"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"The first test got empty, with no code. That gives us the excuse to remove the first stairstep. This first stairstep has already served its purpose, which is the creation of the Game class, and now we can remove it. We give it a farewell, and we show ourselves grateful for its help."),Object(n.b)("p",null,'Later the kata adds the first test with a real business value: "the gutter game".'),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",s({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",s({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"let")," g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"beforeEach"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),"g ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"new")," ",Object(n.b)("span",s({parentName:"code"},{className:"token class-name"}),"Game"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"roll a ball"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n  g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"roll"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"gutter game"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"for")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"let")," i ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")," i ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"<")," ",Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"20"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")," i ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"+=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),"\n    g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"roll"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"expect"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),"g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"score"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"toBe"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"At this moment, and when all tests pass, we can remove the second stairstep.\nThe new test already includes the logic from the stairstep test, and this new test has business-relevant information: it describes an actual scoring rule. Once again, we are grateful for the stairstep test and give it a farewell. We remove it in the following Clean stage."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",s({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",s({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"let")," g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"beforeEach"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),"g ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"new")," ",Object(n.b)("span",s({parentName:"code"},{className:"token class-name"}),"Game"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"test"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token string"}),'"gutter game"'),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"for")," ",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token keyword"}),"let")," i ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")," i ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"<")," ",Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"20"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")," i ",Object(n.b)("span",s({parentName:"code"},{className:"token operator"}),"+=")," ",Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),"\n    g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"roll"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"expect"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),"g",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"score"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",s({parentName:"code"},{className:"token function"}),"toBe"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",s({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",s({parentName:"code"},{className:"token punctuation"}),";")))))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---wiki-stairstep-test-mdx-7d2d63ed9b7b68eb8386.js.map