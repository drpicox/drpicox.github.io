(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/Ai1":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a("q1tI");var n=a("7ljp"),o=a("eC7B"),s=a("m8Tn"),c=a("8rN0"),r=a("qKvR"),i=/\/\/(?:.*\.)?([^.]+\.[^./]+)\//;function b(e){var t=e.children,a=e.pageContext,b=a.frontmatter.canonical;return Object(r.a)(s.a,a.frontmatter,Object(r.a)(n.a,{components:c},Object(r.a)(o.a,null,Object(r.a)(c.Container,null,Object(r.a)("h1",null,a.frontmatter.title),b&&Object(r.a)("p",{class:"small"},Object(r.a)("a",{href:b,target:"_blank",rel:"noopener noreferrer"},"This article was originally published"," ",function(e){var t=e.match(i);return t?"at "+t[1]:"here"}(b)," ⬈")),t))))}},K1yT:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return m}));var n,o=a("wx14"),s=a("zLVn"),c=(a("q1tI"),a("7ljp")),r=a("/Ai1"),i=(a("qKvR"),{}),b=(n="Mermaid",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(c.b)("div",e)}),l={_frontmatter:i},p=r.a;function m(e){var t=e.components,a=Object(s.a)(e,["components"]);return Object(c.b)(p,Object(o.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"After many years, decades, many applications, many programs, many screens, I finally realized a simple and powerful truth: views are just functions."),Object(c.b)("h2",null,"My firsts programs in BASIC"),Object(c.b)("p",null,"When I was just a child a created my first views with just print:"),Object(c.b)("div",{className:"gatsby-highlight","data-language":"basic"},Object(c.b)("pre",Object(o.a)({parentName:"div"},{className:"language-basic"}),Object(c.b)("code",Object(o.a)({parentName:"pre"},{className:"language-basic"}),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"10")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"PRINT")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token string"}),'"Good morning Dave"')))),Object(c.b)("p",null,"After print, it came input. Input is an operation to mutate the program state:"),Object(c.b)("div",{className:"gatsby-highlight","data-language":"basic"},Object(c.b)("pre",Object(o.a)({parentName:"div"},{className:"language-basic"}),Object(c.b)("code",Object(o.a)({parentName:"pre"},{className:"language-basic"}),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"10")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"PRINT")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token string"}),'"Hi"'),"\n",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"20")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"INPUT")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token string"}),'"What is your name? "'),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),",")," N$\n",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"30")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"PRINT")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token string"}),'"Good morning"'),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),";")," N$\n",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"40")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"GOTO")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"20")))),Object(c.b)("p",null,"It was always the same: print the view, ask for new information, and print the result again. A never ended loop."),Object(c.b)("div",{className:"gatsby-highlight","data-language":"basic"},Object(c.b)("pre",Object(o.a)({parentName:"div"},{className:"language-basic"}),Object(c.b)("code",Object(o.a)({parentName:"pre"},{className:"language-basic"}),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"SUB")," MainMenu",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"DO"),"\n    ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"CALL")," PrintMainMenu\n    ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"INPUT")," “What ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"option")," you choose? “",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"Option"),"%\n    ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"CALL")," ExecuteMainOption",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"Option"),"%",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"LOOP")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"UNTIL")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token function"}),"Option"),"% ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token number"}),"0"),"\n",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"END")," ",Object(c.b)("span",Object(o.a)({parentName:"code"},{className:"token keyword"}),"SUB")))),Object(c.b)("p",null,"It was effortless and quick. When I started to simulate a graphical user interface with windows I always did the same: clear a secondary buffer, print all screens from bottom to top, copy the buffer to the screen, and then input again, waiting for a change."),Object(c.b)(b,{mdxType:"Mermaid"},"stateDiagram\n  Print: 10 PRINT state\n  Input: 20 INPUT action\n  Input: 30 CALL action\n  Print --\x3e Input\n  Input --\x3e Print\n"),Object(c.b)("h2",null,"Entering the Object Oriented world"),Object(c.b)("p",null,"Probably I could blame Java for that, but it is not true. The first programming language that I have used was C++, followed closely by VisualBasic (2.0 to be precise)."),Object(c.b)("p",null,"Object Oriented programming was the coolest thing. I remember the change from simple procedural applications to Object Oriented. Model Objects that take care of themselves. I remember writing one small raytracer in C++, gorgeous. A render engine that took as input abstract Objects, ask them to intersect with rays, and it generated impressive images. Using Object Oriented programming in models was great."),Object(c.b)("p",null,"Problems appeared when I started to write interfaces in Object Oriented Programming."),Object(c.b)(b,{mdxType:"Mermaid"},"classDiagram\n  class Button {\n    +action(ev, ob)\n  }\n  class TextField {\n    +getText()\n  }\n  class Label {\n    +setText(text)\n  }\n"),Object(c.b)("p",null,"A view was more complicated than just print, it was creating a complex tree of objects, configurations, and synchronize all of them correctly with the state. However, look at it, interfaces were gorgeous, with complex behaviors, and why not, I was amazed by these shiny buttons."),Object(c.b)("p",null,"In those days I did not realize what happened. First I thought that I did not have understood MVC. Later I thought that I needed a better methodology. I sensed that something was wrong, but I did not know what. I began a search for a comfortable way of code. I tried many patterns. Somehow, all solutions always seemed to be a kind of ad-hoc solutions."),Object(c.b)("h2",null,"Duplicated states, the root of all evil"),Object(c.b)("p",null,"Normalized states, derived states, computed states, single source of truth, and more. There is an extensive list of concepts that explain why you should not have duplicated state. If you duplicate the state, you start working in highly reliable solutions to avoid data corruption."),Object(c.b)("p",null,"The main principle of Object Oriented programming is that each object keeps its own state. The only way to interact with that state is through methods. Using one object state from another object is considered an antipattern. In other words: Object Oriented programming encourages you to duplicate states."),Object(c.b)("p",null,"That is the problem of Object-Oriented views: each view has its state. That means that your state becomes duplicated: you have the state in your models, and you have the state in the view."),Object(c.b)("p",null,"When you have duplicated states, you need to synchronize them. If you look carefully at MVC, it is one proposal about how to implement that synchronization. Unfortunately is not entirely satisfactory; tens of variants have emerged. Almost every project that I have seen implements its unique mechanism and tries to synchronize views and models states, more or less effectively."),Object(c.b)("h2",null,"Functions have no state"),Object(c.b)("p",null,"In Front End environments it appeared something surprising for me: React. In the beginning, I thought that It was one framework more, but I was wrong."),Object(c.b)("p",null,"React conceives the View as something that you can print. A simple React component is a render function. The idea of creating components in React is to allow React lazily call render functions; like a pure-functional programming language."),Object(c.b)("p",null,"Think in a view like something that you print from the state, it is simple and powerful. You do not duplicate the state, and everything is always consistent."),Object(c.b)("p",null,"Now, any extra code to synchronize application state and view state seems to be superfluous and adds unnecessary overhead and complexity."),Object(c.b)("h2",null,"The View is a Function"),Object(c.b)("p",null,"Views should not keep state. That duplicates state, and state duplication leads to data corruption and synchronization overheads."),Object(c.b)("p",null,"Functions are stateless, predictable, highly reusable. ¿Why do not just print the state to show your view?"),Object(c.b)("p",null,"The next time that you want to write a new view think about what would happen if you can print that. How easy it becomes when you remove the state from the view."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---blog-2019-02-07-the-view-is-a-function-mdx-e58a325681248880b5b4.js.map